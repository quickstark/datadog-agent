init_config:
instances:
  - dbm: true
    # SQL Server connection (Linux agent): use ODBC connector
    host: ${SQLSERVER_HOST}
    port: ${SQLSERVER_PORT}
    username: ${DBM_USER}
    # For dev/testing, set the cleartext password or configure the Agent secrets backend
    password: ${DBM_PASSWORD}
    connector: odbc
    driver: 'FreeTDS'
    # TLS options for FreeTDS
    encrypt: false
    trust_server_certificate: true
    tds_version: 8.0
    # Timeout settings to prevent hanging connections
    query_timeout: 10
    connection_timeout: 5
    schemas_collection:
      enabled: true
    database_metrics:
      # Optional: enable metric collection for indexes
      index_usage_metrics:
        enabled: true
    # Reduce collection frequency
    min_collection_interval: 60
    # Optional: tags
    tags:
      - 'service:fastapi'
      - 'env:dev'