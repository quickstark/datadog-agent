init_config:

instances:
  - dbm: true
    connector: odbc
    driver: 'ODBC Driver 18 for SQL Server'
    connection_string: >
      Driver={ODBC Driver 18 for SQL Server};
      Server=${SQLHOST},${SQLPORT};
      Database=${SQLDATABASE};
      Uid=${SQLUSER};
      Pwd=${SQLPASSWORD};
      Encrypt=no;
      TrustServerCertificate=yes;
      Connection Timeout=5;
      Query Timeout=10;

    collect_statement_metrics: true
    collect_activity_metrics: true
    collect_count_metrics: true
    collect_database_size_metrics: true
    schemas_collection:
      enabled: true
    database_metrics:
      index_usage_metrics:
        enabled: true

    tags:
      - 'service:sqlserver'
      - 'env:dev'
      - 'database:${SQLDATABASE}'
